/*
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    Local config file for running nf-qcflow
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    Defines custom process parameters for nf-qcflow pipeline.

    Use as follows:
        nextflow run nf-core/nf-qcflow -profile <docker/singularity> -c <this_profile> --outdir <OUTDIR>
*/

params {
    config_profile_name        = 'nf-qcflow'
    config_profile_description = 'nf-qcflow test profile'
}
process {

    withName: FASTP {
        /*
         * Extra arguments appended to the SHOVILL command.
         * Shovill supports multiple assemblers; here using SPAdes.
         */
        ext.args = [
            "--cut_front",
            "--cut_front_window_size=1",
            "--cut_front_mean_quality=10",
            "--cut_tail",
            "--cut_tail_window_size=1",
            "--cut_tail_mean_quality=10",
            "--n_base_limit 0",
            "--qualified_quality_phred 20",
            "--average_qual 20",
            "--length_required 50",
            "--detect_adapter_for_pe",
        ].join(' ').trim()
    }

    withName: BBMAP_BBDUK {
        ext.args = [
            "ref=adapters,artifacts,phix",
            "ktrim=r",
            "k=23",
            "mink=11",
            "hdist=1",
            "tpe",
            "tbo",
            "maq=15",
            "trimq=10",
            "qtrim=r",
            "minavgquality=20",
            "minlength=50"
        ].join(' ').trim()
    }

    withName: FASTPLONG {
        ext.args = [
            "--length_required 200", //default is 20
            "--length_limit 1500", // 0 means no upper limit
            "--mean_qual 10" // 10% error rate

        ].join(' ').trim()
    }

}
